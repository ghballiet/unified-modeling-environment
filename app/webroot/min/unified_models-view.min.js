$(document).ready(function(){function grabExogenousData(){var url=$("#data-url").val();$.post(url,{},function(data){eval(data);console.log("Simulation data loaded.");console.log("Variables: ",variables);for(var i in variables)createRows(variables[i])})}function createRows(a){var b=a.entity_name;for(var c in a){if(c=="id"||c=="entity_name")continue;var d=$("<tr />"),e=$("<span />").addClass("name").html(b),f=$("<span />").addClass("attr").html(c),g=$("<td />").addClass("name").append(e).append(".").append(f),h=$("<td />").addClass("value").html(a[c]);d.append(g).append(h);$("#simulation-data tbody").append(d)}}function genericProcessArgs(){$("#GenericProcessNumArguments").change(function(){var a=parseInt($(this).val())+1,b=0;$("div.input.hidden").hide();for(b=1;b<=a;b++)$("#arg_"+b).show()})}function concreteProcessArgs(){var a=$("#ConcreteProcessGenericProcessId").val();loadConcreteProcessArgs(a);$("#ConcreteProcessGenericProcessId").change(function(){loadConcreteProcessArgs($(this).val())})}function loadConcreteProcessArgs(a){var b=concrete_process_argument_list,c=0;$("#ConcreteProcessArguments").html("");for(var d in b[a]){c++;var e=b[a][d],f=$("<div />").addClass("input select"),g=parseInt(d)+1,h=$("<label />").html("Argument "+g),i=$("<select />").attr("name","data[ConcreteProcess][argument-"+d+"]");for(var j in e){var k=$("<option />").val(j).html(e[j]);i.append(k)}f.append(h).append(i);$("#ConcreteProcessArguments").append(f)}$("#ConcreteProcessNumArguments").val(c)}$("a.deleteModel").live("click",function(a){a.preventDefault();var b=$(this).attr("data-delete-url"),c=confirm("Are you sure you want to delete this model? This CANNOT be undone.");c&&(window.location=b)});$("a.expand").toggle(function(){var a=$("#"+$(this).attr("data-expand-id")),b=$("#"+a.attr("data-expand-id")),c=b.find("div.generic-attribute");a.html(c.clone());a.find("a.btnDelete").remove();a.fadeIn("fast");$(this).html("&#x25b2;")},function(){var a=$("#"+$(this).attr("data-expand-id"));a.hide();$(this).html("&#x25bc;")});$('input[type="text"], textarea').live("keypress",function(a){if($(this).attr("id")=="ConcreteEquationRightHandSide"||$(this).attr("id")=="GenericEquationRightHandSide"||$(this).attr("id")=="ExogenousValueValue")return!0;if(a.keyCode==32){a.preventDefault();var b=$(this).val()+"_";$(this).val(b)}else{var c=String.fromCharCode(a.keyCode);c.match(/\W/g)!=null&&c!="."&&a.preventDefault()}});grabExogenousData();genericProcessArgs();concreteProcessArgs()});